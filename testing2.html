<!DOCTYPE html>
<html lang="en">
<head>
    <title>Three.js - Shiny Cube Menu</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <style>
        body { background: radial-gradient(#222, #000); margin: 0; overflow: hidden; }
        #abt-overlay, #proj-overlay {
            display: none; 
            position: fixed; 
            top: 0; left: 0; 
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.85); z-index: 2000; 
            justify-content: center; 
            align-items: center;
        }
        .content { 
            color: #FAFAFA; 
            background: #001a2d; 
            padding: 10px; 
            border-radius: 20px; 
            width: auto;
            height: 450px;
            text-align: center; 
            font-family: sans-serif;
            list-style-type: none; }
        
        img {width: 200px; height: 250px; float: left; padding: 50px;}

        a {text-decoration: none;}
        a:link { color: white;}
        a:visited { color: white;}

        table {
            width: auto;
            list-style-type: none;
            text-align: center;
            table-layout: fixed;
        }
        td {word-wrap: break-word; }

        button { 
            cursor: pointer; 
            margin-top: 30px;
            padding: 10px 20px; 
            background: #36454F; 
            color: white; 
            border: none; 
            border-radius: 5px; }
    </style>
</head>
<body>

    <div id="abt-overlay">
        <div class="content">
            <img src="pfp.jpeg" alt="">
            <h1>About Me</h1>
            <p><b>Hi</b> My name is Ollevya, . I also enjoy craftsmanship.</p>

            <h3>Skills</h3> 
            <li>Python, HTML, SQL</li>
            <li>UI path, Linux, Cisco</li>
            <li>Microsoft office, Power BI, Tableau</li>

            <h3>Contact</h3>    
            <li>ollevya23@gmail.com</li>
            <li><a href="https://www.linkedin.com/in/ollevya-undefined-71a843252/details/experience/">Linkedin</a></li>
                   
            <button id="close-abt">Close</button>
        </div>
    </div>
    <div id="proj-overlay">
        <div class="content">
            <h1>Projects</h1>
            <table>
                <tr>
                 <td><h2>Project 1</h2></td>
                 <td><h2>Project 2</h2></td> 
                 <td><h2>Project 3</h2></td>    
                </tr>
                <tr>
                    <td>
                        <h3>Designed SQL database for soccer clubs</h3>
                    </td>
                    <td>
                        <h3>File handling using Python</h3>
                    </td>
                    <td>
                        <h3>Digital Portfolio</h3>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>As a team, we designed table relationships, defined appropriate data types, populated
                            structured data, and built a functional database using SQL Server Management Studio to store.</p>
                    </td>
                    <td>    
                            <p>I automated file handling by downloading files from FTP server, organising directories, encrypting and decrypting files, 
                            logging access activity, and using Task Scheduler to automate workflow.</p>
                    </td>    
                    <td>
                            <p>For this project I used VScode, Three.js and self-taught JavaScript, 
                            while leveraging AI tools to assist in building and refining the portfolio.</p>
                    </td>
                </tr>
            </table>
            <button id="close-proj">Close</button>
        </div>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@latest/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@latest/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { GUI } from 'three/addons/libs/lil-gui.module.min.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { RoundedBoxGeometry } from 'three/addons/geometries/RoundedBoxGeometry.js';
        import { RoomEnvironment } from 'three/addons/environments/RoomEnvironment.js';
        import { Font } from 'three/addons/loaders/FontLoader.js';
        import { unzipSync, strFromU8 } from 'three/addons/libs/fflate.module.js';

        let camera, scene, renderer, controls, cube, myPicture;
        const settings = {
            category: 'Navigate',
            home: () => {
                camera.position.set(0, 0, 800);
                controls.target.set(0, 0, 0);
                if(myPicture) myPicture.visible = false;
                controls.update();
            }
        };

        init();

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 5000);
            camera.position.set(0, 0, 800);

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // --- ENVIRONMENT (This makes it look like the Lottie cube) ---
            const environment = new RoomEnvironment();
            const pmremGenerator = new THREE.PMREMGenerator(renderer);
            scene.environment = pmremGenerator.fromScene(environment).texture;

            controls = new OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;

            // --- SHINY METALLIC CUBE ---
            const geometry = new RoundedBoxGeometry(250, 250, 250, 20, 20);
            const material = new THREE.MeshStandardMaterial({ 
                color: 0x36454F, 
                metalness: 1.0, 
                roughness: 0.1 
            });
            cube = new THREE.Mesh(geometry, material);
            scene.add(cube);

            loadFontAndAttachText();

            setupGUI();

            document.getElementById('close-abt').onclick = () => document.getElementById('abt-overlay').style.display = 'none';
            document.getElementById('close-proj').onclick = () => document.getElementById('proj-overlay').style.display = 'none';

            window.addEventListener('resize', onWindowResize);
            animate();
        }

        function loadFontAndAttachText() {
            const loader = new THREE.FileLoader();
            loader.setResponseType('arraybuffer');
            loader.load('fonts/MPLUSRounded1c/MPLUSRounded1c-Regular.typeface.json.zip', (data) => {
                const zip = unzipSync(new Uint8Array(data));
                const str = strFromU8(new Uint8Array(zip['MPLUSRounded1c-Regular.typeface.json'].buffer));
                const font = new Font(JSON.parse(str));
                
                // Emissive material makes the text "glow" slightly on the dark cube
                const textMat = new THREE.MeshStandardMaterial({ color: 0xffffff, emissive: 0xffffff, emissiveIntensity: 0.5 });

                // ABOUT Text (Front)
                const abtGeo = new THREE.ShapeGeometry(font.generateShapes('ABOUT', 40));
                centerGeometry(abtGeo);
                const abtMesh = new THREE.Mesh(abtGeo, textMat);
                abtMesh.position.z = 126;
                cube.add(abtMesh);

                // OLLEVYA TAN Text (Top Face)
                const nameGeo = new THREE.ShapeGeometry(font.generateShapes('OLLEVYA TAN', 25)); // Slightly smaller size to fit
                centerGeometry(nameGeo);
                nameGeo.rotateX(-Math.PI / 2); 
                const nameMesh = new THREE.Mesh(nameGeo, textMat);
                nameMesh.position.y = 126; 

                cube.add(nameMesh);

                // PROJECT Text (Right Side)
                const projGeo = new THREE.ShapeGeometry(font.generateShapes('PROJECT', 40));
                centerGeometry(projGeo);
                const projMesh = new THREE.Mesh(projGeo, textMat);
                projMesh.position.x = 126;
                projMesh.rotation.y = Math.PI / 2;
                cube.add(projMesh);
            });
        }

        function centerGeometry(geo) {
            geo.computeBoundingBox();
            const center = new THREE.Vector3();
            geo.boundingBox.getCenter(center);
            geo.translate(-center.x, -center.y, -center.z);
        }

        function setupGUI() {
            const gui = new GUI();
            gui.add(settings, 'home').name('ðŸ  Home');
            gui.add(settings, 'category', ['Navigate', 'About', 'Projects']).name('Menu').onChange(val => {
                if (val === 'About') {
                    document.getElementById('abt-overlay').style.display = 'flex';
                    
                }
                if (val === 'Projects') {
                    document.getElementById('proj-overlay').style.display = 'flex';
                    if(myPicture) myPicture.visible = false;
                }
                controls.update();
            });
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);
            if (cube) cube.rotation.y += 0.005; 
            controls.update();
            renderer.render(scene, camera);
        }
    </script>
</body>
</html>