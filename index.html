<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ollevya's Portfolio</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  
</head>
<body>

    <div id="abt-overlay">
        <div class="content">
            <h1>About Me</h1>
            <table id="abttable">
                 <tr>
                    <td rowspan="3">
                        <img src="pfp.jpeg" alt="">
                    </td>
                    <td>
                        <p><b>Hi, my name is Ollevya Tan</b>. Whether writing clean code or refining a 3D interface, I believe that great work comes from a mix of logic and creativity. I also enjoy craftsmanship and constant pursuit of learning something new daily.</p>
                    </td>
                </tr>

                <tr>
                    <td>
                        <h3>Skills</h3>
                        <li>Python, HTML, SQL</li>
                        <li>UI path, Linux, Cisco</li>
                        <li>Microsoft office, Power BI, Tableau</li>
                    </td>
                </tr>

                <tr>
                    <td> 
                        <h3>Contact</h3>
                        <li>ollevya23@gmail.com</li>
                        <li><b><a href="https://www.linkedin.com/in/ollevya-undefined-71a843252/details/experience/">Linkedin</a></b></li>
                        <li><b><a href="Resume.pdf">Resume</a></b></li>
                    </td>
                </tr>
 
            </table>       
            <button id="close-abt">Close</button>
        </div>
    </div>
    <div id="proj-overlay">
        <div class="content">
            <h1>Projects</h1>
            <table id="projtable">
                <tr>
                 <td><h2>Project 1</h2></td>
                 <td><h2>Project 2</h2></td> 
                 <td><h2>Project 3</h2></td>    
                </tr>
                
                <tr>
                    <td>
                        <h3>Designed SQL database for soccer clubs</h3>
                        <p>As a team, we designed table relationships, defined appropriate data types, populated
                        structured data, and built a functional database using SQL Server Management Studio to store.</p>
                    </td>
                    <td><h3>File handling using Python</h3>    
                        <p>Automated file handling by downloading files from FTP server, organising directories, encrypting and decrypting files, 
                        logging access activity, and using Task Scheduler to automate workflow and reduce manual troubleshooting time.</p>
                    </td>    
                    <td>
                        <h3>Hardened Linux OS</h3>
                        <p>Install firewall and antivirus software, automate regular audits, edit configuration SSH to disable root and password login, 
                        change default port, and using security audit tools to verify security policies are disabled and identifying weakness.</p>
                    </td>
                </tr>
            </table>
            <button id="close-proj">Close</button>
        </div>
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@latest/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@latest/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { GUI } from 'three/addons/libs/lil-gui.module.min.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { RoundedBoxGeometry } from 'three/addons/geometries/RoundedBoxGeometry.js';
        import { RoomEnvironment } from 'three/addons/environments/RoomEnvironment.js';
        import { Font } from 'three/addons/loaders/FontLoader.js';
        import { unzipSync, strFromU8 } from 'three/addons/libs/fflate.module.js';

        let camera, scene, renderer, controls, cube, myPicture;
        const settings = {
            category: 'Navigate',
            home: () => {
                camera.position.set(0, 300, 800);
                controls.target.set(0, 0, 0);
                if(myPicture) myPicture.visible = false;
                controls.update();
            }
        };

        init();

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 5000);
            camera.position.set(0, 300, 800);

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            //ENVIRONMENT 
            const environment = new RoomEnvironment();
            const pmremGenerator = new THREE.PMREMGenerator(renderer);
            scene.environment = pmremGenerator.fromScene(environment).texture;

            controls = new OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;

            //SHINY METALLIC CUBE
            const geometry = new RoundedBoxGeometry(250, 250, 250, 20, 20);
            const material = new THREE.MeshStandardMaterial({ 
                color: 0x36454F, 
                metalness: 1.0, 
                roughness: 0.1 
            });
            cube = new THREE.Mesh(geometry, material);
            scene.add(cube);

            //DUST GEOMETRY
            const particlesGeometry = new THREE.BufferGeometry();
            const particlesCount = 2500; // 

            const posArray = new Float32Array(particlesCount * 3); 

            //SCATTER
            for(let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 3000; 
            }

            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

            //DUST MATERIAL
            const particlesMaterial = new THREE.PointsMaterial({
                size: 3,           
                color: 0xffffff, 
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending 
            });

            //ADD TO SCENE
            const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particlesMesh);

            loadFontAndAttachText();

            setupGUI();

            document.getElementById('close-abt').onclick = () => document.getElementById('abt-overlay').style.display = 'none';
            document.getElementById('close-proj').onclick = () => document.getElementById('proj-overlay').style.display = 'none';

            window.addEventListener('resize', onWindowResize);
            animate();
        }

        function loadFontAndAttachText() {
            const loader = new THREE.FileLoader();
            loader.setResponseType('arraybuffer');
            loader.load('fonts/MPLUSRounded1c/MPLUSRounded1c-Regular.typeface.json.zip', (data) => {
                const zip = unzipSync(new Uint8Array(data));
                const str = strFromU8(new Uint8Array(zip['MPLUSRounded1c-Regular.typeface.json'].buffer));
                const font = new Font(JSON.parse(str));
                
                // Emissive material makes the text "glow" slightly on the dark cube
                const textMat = new THREE.MeshStandardMaterial({ color: 0xffffff, emissive: 0xffffff, emissiveIntensity: 0.5 });

                // ABOUT Text (Front)
                const abtGeo = new THREE.ShapeGeometry(font.generateShapes('ABOUT', 35));
                centerGeometry(abtGeo);
                const abtMesh = new THREE.Mesh(abtGeo, textMat);
                abtMesh.position.z = 126;
                cube.add(abtMesh);

                // OLLEVYA TAN Text (Top Face)
                const nameGeo = new THREE.ShapeGeometry(font.generateShapes('O.T', 50)); 
                centerGeometry(nameGeo);
                nameGeo.rotateX(-Math.PI / 2); 
                const nameMesh = new THREE.Mesh(nameGeo, textMat);
                nameMesh.position.y = 126; 

                cube.add(nameMesh);

                // PROJECT Text (Right Side)
                const projGeo = new THREE.ShapeGeometry(font.generateShapes('PROJECT', 35));
                centerGeometry(projGeo);
                const projMesh = new THREE.Mesh(projGeo, textMat);
                projMesh.position.x = 126;
                projMesh.rotation.y = Math.PI / 2;
                cube.add(projMesh);

                const catGeo = new THREE.ShapeGeometry(font.generateShapes('â‚^. .^â‚Ž', 40)); 
                centerGeometry(catGeo);
                const catMesh = new THREE.Mesh(catGeo, textMat);
                catMesh.position.x = 0; 
                catMesh.position.y = -126;
                catMesh.position.z = 0;
                catMesh.rotation.x = Math.PI / 2; 
                cube.add(catMesh);

            });
        }

        function centerGeometry(geo) {
            geo.computeBoundingBox();
            const center = new THREE.Vector3();
            geo.boundingBox.getCenter(center);
            geo.translate(-center.x, -center.y, -center.z);
        }

        function setupGUI() {
            const gui = new GUI();
            gui.add(settings, 'home').name('ðŸ  Home');
            gui.add(settings, 'category', ['Navigate', 'About', 'Projects']).name('Menu').onChange(val => {
                if (val === 'About') {
                    document.getElementById('abt-overlay').style.display = 'flex';
                    
                }
                if (val === 'Projects') {
                    document.getElementById('proj-overlay').style.display = 'flex';
                    if(myPicture) myPicture.visible = false;
                }
                controls.update();
            });
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);
            if (cube) cube.rotation.y += 0.005; 
            controls.update();
            renderer.render(scene, camera);

            if (particlesMesh) {
                particlesMesh.rotation.y += 0.001; // Very slow rotation for the dust
                particlesMesh.rotation.x += 0.0005; // Optional: adds a slight vertical drift
            }
            

        }
    </script>
</body>
</html>